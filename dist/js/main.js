!function(){"use strict";function t(n){if(e=x(t),!(n<u+p)){for(a+=n-u,u=n,S(n,a),n>h+f&&(c=s*l*1e3/(n-h)+(1-s)*c,h=n,l=0),l++,d=0;a>=o;)if(b(o),a-=o,++d>=240){g=!0;break}T(a/o),k(c,g),g=!1}}function n(){function t(t,n){var e=n.x-t.x,r=n.y-t.y;return 1.426776695*Math.min(.7071067812*(Math.abs(e)+Math.abs(r)),Math.max(Math.abs(e),Math.abs(r)))}var n=document.querySelector("canvas").getContext("2d");n.canvas.width=window.innerWidth,n.canvas.height=window.innerHeight;for(var e=120,o=n.canvas.width,a=n.canvas.height,u=Math.min(Math.round(o*a/1500),1e3),c=o+e,s=a+e,f=o+2*e,h=a+2*e,l={background1:"#1e1e3c",background2:"#1c3f4a",points:"#ffe699",connectors:"#f8ffbe"},d=[],p=0;p<u;p++)d[p]=new r(Math.random()*f,Math.random()*h,.5*Math.random()-.25+.5,.5*Math.random()-.25);var v=[];for(p=0;p<u;p++)for(var m=p;m<u;m++)v.push(new i(d[p],d[m]));var g=n.createLinearGradient(0,0,o,a);g.addColorStop(0,l.background1),g.addColorStop(1,l.background2),A.setMaxAllowedFPS(80).setUpdate(function(t){t/=20;for(var n=0,r=d;n<r.length;n++){var i=r[n];i.x+=t*i.xSpeed,i.y+=t*i.ySpeed,i.x<-e&&(i.x+=f),i.x>c&&(i.x-=f),i.y<-e&&(i.y+=h),i.y>s&&(i.y-=h)}}).setDraw(function(){n.fillStyle=g,n.fillRect(-1,-1,o+2,a+2),n.fillStyle=l.points;for(var r=0,i=d;r<i.length;r++){var u=i[r];n.fillRect(u.x,u.y,2,2)}n.strokeStyle=l.connectors;for(var c=0,s=v;c<s.length;c++){var f=s[c],h=f.p1,p=f.p2,m=t(h,p);m<e&&(n.globalAlpha=1-m/e,n.beginPath(),n.moveTo(h.x,h.y),n.lineTo(p.x,p.y),n.stroke())}n.globalAlpha=1}).start()}var e,r=function(){return function(t,n,e,r){this.x=t,this.y=n,this.xSpeed=e,this.ySpeed=r}}(),i=function(){return function(t,n){this.p1=t,this.p2=n}}(),o=1e3/60,a=0,u=0,c=60,s=.9,f=1e3,h=0,l=0,d=0,p=0,v=!1,m=!1,g=!1,w=window,x=w.requestAnimationFrame||function(){var t,n,e=Date.now();return function(r){return t=Date.now(),n=Math.max(0,o-(t-e)),e=t+n,setTimeout(function(){r(t+n)},n)}}(),y=w.cancelAnimationFrame||clearTimeout,M=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},S=M,b=M,T=M,k=M,A=function(){function n(){}return n.getSimulationTimestep=function(){return o},n.setSimulationTimestep=function(t){return o=t,this},n.getFPS=function(){return c},n.getMaxAllowedFPS=function(){return 1e3/p},n.setMaxAllowedFPS=function(t){return void 0===t&&(t=1/0),0===t?this.stop():p=1e3/t,this},n.resetFrameDelta=function(){var t=a;return a=0,t},n.setBegin=function(t){return S=t||S,this},n.setUpdate=function(t){return b=t||b,this},n.setDraw=function(t){return T=t||T,this},n.setEnd=function(t){return k=t||k,this},n.start=function(){return m||(m=!0,e=x(function(n){T(1),v=!0,u=n,h=n,l=0,e=x(t)})),this},n.stop=function(){return v=!1,m=!1,y(e),this},n.isRunning=function(){return v},n}();n(),$(window).on("resize",function(t,n,e){var r;return function(){var i=this,o=arguments,a=e&&!r;clearTimeout(r),r=setTimeout(function(){r=null,e||t.apply(i,o)},n),a&&t.apply(i,o)}}(function(){A.stop(),n()},200))}();
