!function(){"use strict";function t(n){if(e=y(t),!(n<u+p)){for(i+=n-u,u=n,b(n,i),n>h+f&&(c=s*l*1e3/(n-h)+(1-s)*c,h=n,l=0),l++,d=0;i>=a;)if(w(a),i-=a,++d>=240){x=!0;break}k(i/a),A(c,x),x=!1}}function n(t,n){var e=n.x-t.x,r=n.y-t.y;return 1.426776695*Math.min(.7071067812*(Math.abs(e)+Math.abs(r)),Math.max(Math.abs(e),Math.abs(r)))}for(var e,r=function(){return function(t,n,e,r){this.x=t,this.y=n,this.xSpeed=e,this.ySpeed=r}}(),o=function(){return function(t,n){this.p1=t,this.p2=n}}(),a=1e3/60,i=0,u=0,c=60,s=.9,f=1e3,h=0,l=0,d=0,p=0,m=!1,v=!1,x=!1,g=window,y=g.requestAnimationFrame||function(){var t,n,e=Date.now();return function(r){return t=Date.now(),n=Math.max(0,a-(t-e)),e=t+n,setTimeout(function(){r(t+n)},n)}}(),S=g.cancelAnimationFrame||clearTimeout,M=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},b=M,w=M,k=M,A=M,F=function(){function n(){}return n.getSimulationTimestep=function(){return a},n.setSimulationTimestep=function(t){return a=t,this},n.getFPS=function(){return c},n.getMaxAllowedFPS=function(){return 1e3/p},n.setMaxAllowedFPS=function(t){return void 0===t&&(t=1/0),0===t?this.stop():p=1e3/t,this},n.resetFrameDelta=function(){var t=i;return i=0,t},n.setBegin=function(t){return b=t||b,this},n.setUpdate=function(t){return w=t||w,this},n.setDraw=function(t){return k=t||k,this},n.setEnd=function(t){return A=t||A,this},n.start=function(){return v||(v=!0,e=y(function(n){k(1),m=!0,u=n,h=n,l=0,e=y(t)})),this},n.stop=function(){return m=!1,v=!1,S(e),this},n.isRunning=function(){return m},n}(),T=document.querySelector("canvas").getContext("2d"),D=120,P=T.canvas.width,C=T.canvas.height,R=P+D,q=C+D,U=P+2*D,B=C+2*D,E={background1:"#1e1e3c",background2:"#1c3f4a",points:"#ffe699",connectors:"#f8ffbe"},G=[],L=0;L<610;L++)G[L]=new r(Math.random()*U,Math.random()*B,.5*Math.random()-.25+.5,.5*Math.random()-.25);var j=[];for(L=0;L<610;L++)for(var z=L;z<610;z++)j.push(new o(G[L],G[z]));var H=T.createLinearGradient(0,0,P,C);H.addColorStop(0,E.background1),H.addColorStop(1,E.background2),F.setMaxAllowedFPS(80).setUpdate(function(t){t/=20;for(var n=0,e=G;n<e.length;n++){var r=e[n];r.x+=t*r.xSpeed,r.y+=t*r.ySpeed,r.x<-D&&(r.x+=U),r.x>R&&(r.x-=U),r.y<-D&&(r.y+=B),r.y>q&&(r.y-=B)}}).setDraw(function(){T.fillStyle=H,T.fillRect(-1,-1,P+2,C+2),T.fillStyle=E.points;for(var t=0,e=G;t<e.length;t++){var r=e[t];T.fillRect(r.x,r.y,2,2)}T.strokeStyle=E.connectors;for(var o=0,a=j;o<a.length;o++){var i=a[o],u=i.p1,c=i.p2,s=n(u,c);s<D&&(T.globalAlpha=1-s/D,T.beginPath(),T.moveTo(u.x,u.y),T.lineTo(c.x,c.y),T.stroke())}T.globalAlpha=1}).start()}();
