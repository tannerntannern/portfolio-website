!function(){"use strict";var e,n,r,i,f=function(t,e,n,r){this.x=t,this.y=e,this.xSpeed=n,this.ySpeed=r},c=function(t,e){this.p1=t,this.p2=e},o=1e3/60,a=0,u=0,s=60,l=.9,h=1e3,d=0,p=0,y=0,v=0,m=!1,x=!1,w=!1,t=window,S=t.requestAnimationFrame||(r=Date.now(),function(t){return e=Date.now(),n=Math.max(0,o-(e-r)),r=e+n,setTimeout(function(){t(e+n)},n)}),g=t.cancelAnimationFrame||clearTimeout,M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},b=M,T=M,A=M,F=M;function D(t){if(i=S(D),!(t<u+v)){for(a+=t-u,b(u=t,a),d+h<t&&(s=l*p*1e3/(t-d)+(1-l)*s,d=t,p=0),p++,y=0;o<=a;)if(T(o),a-=o,240<=++y){w=!0;break}A(a/o),F(s,w),w=!1}}var P,k,C,R,q=function(){function t(){}return t.getSimulationTimestep=function(){return o},t.setSimulationTimestep=function(t){return o=t,this},t.getFPS=function(){return s},t.getMaxAllowedFPS=function(){return 1e3/v},t.setMaxAllowedFPS=function(t){return void 0===t&&(t=1/0),0===t?this.stop():v=1e3/t,this},t.resetFrameDelta=function(){var t=a;return a=0,t},t.setBegin=function(t){return b=t||b,this},t.setUpdate=function(t){return T=t||T,this},t.setDraw=function(t){return A=t||A,this},t.setEnd=function(t){return F=t||F,this},t.start=function(){return x||(x=!0,i=S(function(t){A(1),m=!0,d=u=t,p=0,i=S(D)})),this},t.stop=function(){return x=m=!1,g(i),this},t.isRunning=function(){return m},t}();function U(){q.stop();var l=document.querySelector("canvas").getContext("2d"),h=document.body.clientWidth,d=window.innerHeight;l.canvas.width=h,l.canvas.height=d;for(var p=130,t=Math.min(Math.round(h*d/1900),1e3),i=h+p,o=d+p,a=h+260,u=d+260,e="#1e1e3c",n="#1c3f4a",y="#ffe699",v="#f8ffbe",m=[],r=0;r<t;r++)m[r]=new f(Math.random()*a,Math.random()*u,.5*Math.random()-.25+.5,.5*Math.random()-.25);var x=[];for(r=0;r<t;r++)for(var s=r;s<t;s++)x.push(new c(m[r],m[s]));var w=l.createLinearGradient(0,0,h,d);w.addColorStop(0,e),w.addColorStop(1,n),q.setMaxAllowedFPS(80).setUpdate(function(t){t/=20;for(var e=0,n=m;e<n.length;e++){var r=n[e];r.x+=t*r.xSpeed,r.y+=t*r.ySpeed,r.x<-p&&(r.x+=a),r.x>i&&(r.x-=a),r.y<-p&&(r.y+=u),r.y>o&&(r.y-=u)}}).setDraw(function(){l.fillStyle=w,l.fillRect(-1,-1,h+2,d+2),l.fillStyle=y;for(var t=0,e=m;t<e.length;t++){var n=e[t];l.fillRect(n.x,n.y,2,2)}l.strokeStyle=v;for(var r=0,i=x;r<i.length;r++){var o=i[r],a=o.p1,u=o.p2,s=(f=a,c=u,Math.abs(c.x-f.x)+Math.abs(c.y-f.y));s<p&&(l.globalAlpha=1-s/p,l.beginPath(),l.moveTo(a.x,a.y),l.lineTo(u.x,u.y),l.stroke())}var f,c;l.globalAlpha=1}).start()}U(),$(window).on("resize",(P=U,k=200,function(){var t=this,e=arguments,n=C&&!R;clearTimeout(R),R=setTimeout(function(){R=null,C||P.apply(t,e)},k),n&&P.apply(t,e)})).on("blur focus",function(t){if($(this).data("prevType")!=t.type)switch(t.type){case"blur":q.stop();break;case"focus":q.start()}$(this).data("prevType",t.type)})}();
